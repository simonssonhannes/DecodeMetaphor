<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hiddenscript - DecodeMetaphor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar">
    <div class="container">
      <div class="logo">Hiddenscript</div>
      <nav class="topnav">
        <a href="#">Hem</a>
        <a href="#">Forum</a>
        <a href="#">Sök</a>
        <button id="toggle-theme">Mörkt läge</button>
        <button id="toggle-all">Visa alla metaforer</button>
      </nav>
    </div>
  </header>

  <main class="container thread-area">
    <div class="thread-header">
      <h1 class="thread-title">[Politik] Diskussion: Inläggsexempel</h1>
      <div class="crumbs">Hiddenscript &gt; Politik &gt; Tråd</div>
    </div>

    <!-- Post 1 -->
    <article class="post">
      <aside class="usercard">
        <div class="username">Anonym123</div>
        <div class="rank">Medlem • 345 inlägg</div>
        <div class="postdate">2025-10-20 14:02</div>
      </aside>
      <section class="postbody">
        <div class="post-meta">
          <span class="post-number">#1</span>
        </div>
        <div class="post-content">
          <p>
            Sverige håller på att <span class="metaphor" data-explanation="Crisis metaphor: frames Sweden as overwhelmed and endangered, evoking fear and urgency.">drunkna</span> i invandring, och SD är det enda <span class="metaphor" data-explanation="Heroic metaphor: portrays SD as rescuers who can 'save' the nation, legitimizing their political stance.">livbåten</span>. Om vi inte agerar nu, så har vi förlorat <span class="metaphor" data-explanation="Battle metaphor: constructs politics as war, encouraging conflict-based thinking rather than dialogue.">kriget</span> om landet.
          </p>
        </div>
        <div class="post-actions">
          <button class="action cite-btn">Citera</button>
          <button class="action reply-btn">Svara</button>
        </div>
      </section>
    </article>

    <!-- Post 2 -->
    <article class="post">
      <aside class="usercard">
        <div class="username">Röstvän</div>
        <div class="rank">Gäst • 12 inlägg</div>
        <div class="postdate">2025-10-20 14:15</div>
      </aside>
      <section class="postbody">
        <div class="post-meta">
          <span class="post-number">#2</span>
        </div>
        <div class="post-content">
          <p>
            Jag håller inte med. Att kalla det för <span class="metaphor" data-explanation="Crisis metaphor: exaggerates the issue to provoke reaction, polarizing the debate.">"drunkna"</span> gör diskussionen svårare — det är en <em>överdriven</em> bild.
          </p>
        </div>
        <div class="post-actions">
          <button class="action cite-btn">Citera</button>
          <button class="action reply-btn">Svara</button>
        </div>
      </section>
    </article>

    <!-- Reply Form -->
    <form id="reply-form" class="reply-form" style="display: none;">
      <textarea id="reply-area" rows="5" placeholder="Skriv ditt svar..."></textarea>
      <button type="submit">Skicka</button>
    </form>

    <!-- Reflection Prompt -->
    <div class="prompt">
      <p>Hur förändras din syn på inlägget efter att du sett metaforernas funktion?</p>
      <textarea id="reflection-input" rows="3" placeholder="Skriv din reflektion..."></textarea>
      <button id="save-reflection">Spara reflektion</button>
    </div>
  </main>

  <!-- Explanation Panel (Fixed, outside main) -->
  <aside id="explain-panel" class="explain-panel">
    <div class="panel-header">
      <strong>Metaforanalys</strong>
      <button id="close-panel" class="btn-close" title="Stäng">×</button>
    </div>
    <div id="explain-text" class="panel-body"></div>
  </aside>

  <footer class="page-footer">
    Prototype for TIA550 — Hiddenscript: Decode the Metaphor
  </footer>

  <script src="script.js"></script>
</body>
</html>
